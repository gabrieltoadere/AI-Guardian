<!DOCTYPE html>
<html>
    <head>
        <title>Reset Password Page</title>
    </head>
    <body>
          <form id="resetForm">
            <input type="password" placeholder="New password" id="newPassword" required />
            <button type="submit">Reset Password</button>
          </form>
          
          <script>
            const params = new URLSearchParams(window.location.search);
            const email = params.get("email");
            const token = params.get("token");
          
            document.getElementById("resetForm").addEventListener("submit", async (e) => {
              e.preventDefault();
              const newPassword = document.getElementById("newPassword").value;
          
              const res = await fetch("http://localhost:5501/reset-password", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ email, token, newPassword })
              });
          
              const data = await res.json();
              alert(data.message);
              if (data.success) window.location.href = "login.html";
            });
          </script> 
    </body>
</html>